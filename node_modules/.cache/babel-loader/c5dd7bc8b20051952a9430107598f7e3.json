{"remainingRequest":"D:\\@IGAC\\Work2020\\backUps\\backUpIncendios\\portal-de-incendios-comixta-argentina---visor\\node_modules\\babel-loader\\lib\\index.js!D:\\@IGAC\\Work2020\\backUps\\backUpIncendios\\portal-de-incendios-comixta-argentina---visor\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\@IGAC\\Work2020\\backUps\\backUpIncendios\\portal-de-incendios-comixta-argentina---visor\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\@IGAC\\Work2020\\backUps\\backUpIncendios\\portal-de-incendios-comixta-argentina---visor\\src\\components\\ProcesosSeveridad\\crearProceSeveridad.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\@IGAC\\Work2020\\backUps\\backUpIncendios\\portal-de-incendios-comixta-argentina---visor\\src\\components\\ProcesosSeveridad\\crearProceSeveridad.vue","mtime":1596237565981},{"path":"D:\\@IGAC\\Work2020\\backUps\\backUpIncendios\\portal-de-incendios-comixta-argentina---visor\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\@IGAC\\Work2020\\backUps\\backUpIncendios\\portal-de-incendios-comixta-argentina---visor\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\@IGAC\\Work2020\\backUps\\backUpIncendios\\portal-de-incendios-comixta-argentina---visor\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\@IGAC\\Work2020\\backUps\\backUpIncendios\\portal-de-incendios-comixta-argentina---visor\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQiOwoKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8gSW1wb3J0YW1vcyBKUXVlcnkKdmFyICQgPSByZXF1aXJlKCJqcXVlcnkiKTsgLy8gTG8gZGVjbGFyYW1vcyBnbG9iYWxtZW50ZQoKCndpbmRvdy4kID0gJDsKaW1wb3J0IEwgZnJvbSAibGVhZmxldCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiY3JlYXJQcm9jZVNldmVyaWRhZCIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIE5vbWJyZTogIiIsCiAgICAgIGRlc2NyaWNpb246ICIiLAogICAgICBmaWxlc0FyZWFCdXJuOiBbXSwKICAgICAgZmlsZXNQYXJjZWxhczogW10sCiAgICAgIGZpbGU6ICIiLAogICAgICBSZWNvbGVjdG9yZXM6ICIiLAogICAgICBkYXRhOiBbewogICAgICAgIGlkOiAxLAogICAgICAgIHVzZXI6IHsKICAgICAgICAgIGZpcnN0X25hbWU6ICJyaWdvIgogICAgICAgIH0KICAgICAgfV0sCiAgICAgIGV4cGFuZGlyVXBsb2FkOiB0cnVlCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgaW5pY2lhcjogZnVuY3Rpb24gaW5pY2lhcigpIHsKICAgICAgdmFyIG1hcGEgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldFN0YXRlLm1hcGFMZWFmdDsKICAgICAgY29uc29sZS5sb2cobWFwYSk7CgogICAgICBpZiAod2luZG93LkZpbGUgJiYgd2luZG93LkZpbGVSZWFkZXIgJiYgd2luZG93LkZpbGVMaXN0ICYmIHdpbmRvdy5CbG9iKSB7CiAgICAgICAgY29uc29sZS5sb2coIkdyZWF0IHN1Y2Nlc3MhIEFsbCB0aGUgRmlsZSBBUElzIGFyZSBzdXBwb3J0ZWQuIik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgYWxlcnQoIlRoZSBGaWxlIEFQSXMgYXJlIG5vdCBmdWxseSBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyLiIpOwogICAgICB9CgogICAgICBmb3IgKHZhciBpID0gMCwgZjsgZiA9IHRoaXMuZmlsZXNBcmVhQnVybltpXTsgaSsrKSB7CiAgICAgICAgaWYgKGYubmFtZS5zcGxpdCgiLiIpWzFdICE9ICJnZW9qc29uIikgewogICAgICAgICAgLy9zb2xvIHByb2Nlc2EgYXJjaGl2b3MgZ2VvanNvbi4KICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgIH0KCiAgICAgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7CiAgICAgICAgcmVhZGVyLnJlYWRBc0JpbmFyeVN0cmluZyhmKTsgLy8gQ2xvc3VyZSB0byBjYXB0dXJlIHRoZSBmaWxlIGluZm9ybWF0aW9uLgoKICAgICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIHZhciByZXN1bHQgPSBKU09OLnBhcnNlKGUudGFyZ2V0LnJlc3VsdCk7CiAgICAgICAgICAgIHZhciBnZW9qc29uTGF5ZXIgPSBMLmdlb0pTT04ocmVzdWx0KTsKICAgICAgICAgICAgZ2VvanNvbkxheWVyLmFkZFRvKG1hcGEpOwogICAgICAgICAgICBjb25zb2xlLmxvZyhtYXBhKTsKICAgICAgICAgIH07CiAgICAgICAgfShmKTsKICAgICAgfQogICAgfSwKICAgIGRlbGV0ZUxheWVyR2VvSnNvbjogZnVuY3Rpb24gZGVsZXRlTGF5ZXJHZW9Kc29uKCkgewogICAgICB2YXIgbWFwYSA9IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0U3RhdGUubWFwYUxlYWZ0OwogICAgICB2YXIgbGF5ZXJzID0gT2JqZWN0LmtleXMobWFwYS5fbGF5ZXJzKTsKICAgICAgbWFwYS5yZW1vdmVMYXllcihtYXBhLl9sYXllcnNbbGF5ZXJzW2xheWVycy5sZW5ndGggLSAxXV0pOwogICAgfSwKICAgIGRlbGV0ZURyb3BGaWxlc0FyZWFCdXJuOiBmdW5jdGlvbiBkZWxldGVEcm9wRmlsZXNBcmVhQnVybihpbmRleCkgewogICAgICBjb25zb2xlLmxvZygiZGVsZXRlIik7CiAgICAgIHRoaXMuZmlsZXNBcmVhQnVybi5zcGxpY2UoaW5kZXgsIDEpOwogICAgfSwKICAgIGRlbGV0ZURyb3BGaWxlUGFyY2VsYXM6IGZ1bmN0aW9uIGRlbGV0ZURyb3BGaWxlUGFyY2VsYXMoaW5kZXgpIHsKICAgICAgdGhpcy5maWxlc1BhcmNlbGFzLnNwbGljZShpbmRleCwgMSk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgY29uc29sZS5sb2coImNyZWFyUHJvY2VTZXZlcmlkYWQiKTsKICB9Cn07"},{"version":3,"sources":["crearProceSeveridad.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4EA;AACA,IAAA,CAAA,GAAA,OAAA,CAAA,QAAA,CAAA,C,CACA;;;AACA,MAAA,CAAA,CAAA,GAAA,CAAA;AACA,OAAA,CAAA,MAAA,SAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,qBADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,MAAA,EAAA,EADA;AAEA,MAAA,UAAA,EAAA,EAFA;AAGA,MAAA,aAAA,EAAA,EAHA;AAIA,MAAA,aAAA,EAAA,EAJA;AAKA,MAAA,IAAA,EAAA,EALA;AAMA,MAAA,YAAA,EAAA,EANA;AAOA,MAAA,IAAA,EAAA,CAAA;AAAA,QAAA,EAAA,EAAA,CAAA;AAAA,QAAA,IAAA,EAAA;AAAA,UAAA,UAAA,EAAA;AAAA;AAAA,OAAA,CAPA;AAQA,MAAA,cAAA,EAAA;AARA,KAAA;AAUA,GAbA;AAcA,EAAA,OAAA,EAAA;AACA,IAAA,OADA,qBACA;AACA,UAAA,IAAA,GAAA,KAAA,MAAA,CAAA,OAAA,CAAA,QAAA,CAAA,SAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,IAAA;;AACA,UAAA,MAAA,CAAA,IAAA,IAAA,MAAA,CAAA,UAAA,IAAA,MAAA,CAAA,QAAA,IAAA,MAAA,CAAA,IAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,iDAAA;AACA,OAFA,MAEA;AACA,QAAA,KAAA,CAAA,wDAAA,CAAA;AACA;;AACA,WAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,EAAA,CAAA,GAAA,KAAA,aAAA,CAAA,CAAA,CAAA,EAAA,CAAA,EAAA,EAAA;AAEA,YAAA,CAAA,CAAA,IAAA,CAAA,KAAA,CAAA,GAAA,EAAA,CAAA,KAAA,SAAA,EAAA;AAAA;AACA;AACA;;AAEA,YAAA,MAAA,GAAA,IAAA,UAAA,EAAA;AACA,QAAA,MAAA,CAAA,kBAAA,CAAA,CAAA,EAPA,CAQA;;AACA,QAAA,MAAA,CAAA,MAAA,GAAA,YAAA;AACA,iBAAA,UAAA,CAAA,EAAA;AACA,gBAAA,MAAA,GAAA,IAAA,CAAA,KAAA,CAAA,CAAA,CAAA,MAAA,CAAA,MAAA,CAAA;AACA,gBAAA,YAAA,GAAA,CAAA,CAAA,OAAA,CAAA,MAAA,CAAA;AACA,YAAA,YAAA,CAAA,KAAA,CAAA,IAAA;AACA,YAAA,OAAA,CAAA,GAAA,CAAA,IAAA;AACA,WALA;AAMA,SAPA,CAOA,CAPA,CAAA;AASA;AACA,KA5BA;AA6BA,IAAA,kBA7BA,gCA6BA;AACA,UAAA,IAAA,GAAA,KAAA,MAAA,CAAA,OAAA,CAAA,QAAA,CAAA,SAAA;AACA,UAAA,MAAA,GAAA,MAAA,CAAA,IAAA,CAAA,IAAA,CAAA,OAAA,CAAA;AACA,MAAA,IAAA,CAAA,WAAA,CAAA,IAAA,CAAA,OAAA,CAAA,MAAA,CAAA,MAAA,CAAA,MAAA,GAAA,CAAA,CAAA,CAAA;AACA,KAjCA;AAkCA,IAAA,uBAlCA,mCAkCA,KAlCA,EAkCA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,QAAA;AACA,WAAA,aAAA,CAAA,MAAA,CAAA,KAAA,EAAA,CAAA;AACA,KArCA;AAsCA,IAAA,sBAtCA,kCAsCA,KAtCA,EAsCA;AACA,WAAA,aAAA,CAAA,MAAA,CAAA,KAAA,EAAA,CAAA;AACA;AAxCA,GAdA;AAwDA,EAAA,OAxDA,qBAwDA;AACA,IAAA,OAAA,CAAA,GAAA,CAAA,qBAAA;AACA;AA1DA,CAAA","sourcesContent":["<template>\r\n  <div>\r\n    <b-button size=\"is-small\" icon-left=\"arrow-left\" @click=\"$emit('regresar')\">Regresar</b-button>\r\n    <b-field label=\"Nombre\">\r\n      <b-input v-model=\"Nombre\" size=\"is-small\"></b-input>\r\n    </b-field>\r\n    <b-field label=\"Descripción\">\r\n      <b-input v-model=\"descricion\" size=\"is-large\"></b-input>\r\n    </b-field>\r\n    <section>\r\n      <b-field label=\"Archivo Area Quemada (GeoJson)\">\r\n        <b-upload v-model=\"filesAreaBurn\" expanded multiple drag-drop type=\"is-info\">\r\n          <section class=\"section\">\r\n            <div class=\"content has-text-centered\">\r\n              <p>\r\n                <b-icon icon=\"upload\" size=\"is-large\"></b-icon>\r\n              </p>\r\n              <p>{{\"Arrastre y suelte su archivo o seleccionelo\"}}</p>\r\n            </div>\r\n          </section>\r\n        </b-upload>\r\n      </b-field>\r\n      <div class=\"tags\">\r\n        <span v-for=\"(file, index) in filesAreaBurn\" :key=\"index\" class=\"tag is-primary\">\r\n          {{file.name}}\r\n          <button\r\n            class=\"delete is-small\"\r\n            type=\"button\"\r\n            @click=\"deleteDropFilesAreaBurn(index)\"\r\n          ></button>\r\n        </span>\r\n      </div>\r\n    </section>\r\n    <section>\r\n      <b-field label=\"Parcelas de valoración (GeoJson)\">\r\n        <b-upload v-model=\"filesParcelas\" multiple drag-drop expanded type=\"is-info\">\r\n          <section class=\"section\">\r\n            <div class=\"content has-text-centered\">\r\n              <p>\r\n                <b-icon icon=\"upload\" size=\"is-large\"></b-icon>\r\n              </p>\r\n              <p>Arrastre y suelte su archivo o seleccionelo</p>\r\n            </div>\r\n          </section>\r\n        </b-upload>\r\n      </b-field>\r\n\r\n      <div class=\"tags\">\r\n        <span v-for=\"(file, index) in filesParcelas\" :key=\"index\" class=\"tag is-primary\">\r\n          {{file.name}}\r\n          <button\r\n            class=\"delete is-small\"\r\n            type=\"button\"\r\n            @click=\"deleteDropFileParcelas(index)\"\r\n          ></button>\r\n        </span>\r\n      </div>\r\n    </section>\r\n    <b-field label=\"Recolectores\">\r\n      <b-field>\r\n        <b-select placeholder=\"Seleccione recolector\" expanded>\r\n          <option\r\n            v-for=\"option in data\"\r\n            :value=\"option.id\"\r\n            :key=\"option.id\"\r\n          >{{ option.user.first_name }}</option>\r\n        </b-select>\r\n        <b-button type=\"is-primary\" inverted outlined>Añadir</b-button>\r\n      </b-field>\r\n    </b-field>\r\n    <b-button type=\"is-primary\" inverted outlined expanded v-on:click=\"iniciar\">Iniciar</b-button>\r\n    <b-button type=\"is-primary\" inverted outlined expanded v-on:click=\"deleteLayerGeoJson\">Quitar layer</b-button>\r\n    <br />\r\n  </div>\r\n</template>\r\n<script>\r\n// Importamos JQuery\r\nconst $ = require(\"jquery\");\r\n// Lo declaramos globalmente\r\nwindow.$ = $;\r\nimport L from \"leaflet\";\r\nexport default {\r\n  name: \"crearProceSeveridad\",\r\n  data() {\r\n    return {\r\n      Nombre: \"\",\r\n      descricion: \"\",\r\n      filesAreaBurn: [],\r\n      filesParcelas: [],\r\n      file: \"\",\r\n      Recolectores: \"\",\r\n      data: [{ id: 1, user: { first_name: \"rigo\" } }],\r\n      expandirUpload: true,\r\n    };\r\n  },\r\n  methods: {\r\n    iniciar() {\r\n      var mapa = this.$store.getters.getState.mapaLeaft;      \r\n      console.log(mapa);\r\n      if (window.File && window.FileReader && window.FileList && window.Blob) {\r\n        console.log(\"Great success! All the File APIs are supported.\");\r\n      } else {\r\n        alert(\"The File APIs are not fully supported in this browser.\");\r\n      }      \r\n      for (var i = 0, f; (f = this.filesAreaBurn[i]); i++) {\r\n        \r\n        if (f.name.split(\".\")[1] != \"geojson\") {//solo procesa archivos geojson.\r\n          continue;\r\n        }\r\n\r\n        var reader = new FileReader();\r\n        reader.readAsBinaryString(f);                \r\n        // Closure to capture the file information.\r\n        reader.onload = (function () {\r\n          return function (e) {            \r\n            var result = JSON.parse(e.target.result);            \r\n            var geojsonLayer = L.geoJSON(result);\r\n            geojsonLayer.addTo(mapa);    \r\n            console.log(mapa);\r\n          };\r\n        })(f);        \r\n        \r\n      }\r\n    },\r\n    deleteLayerGeoJson(){\r\n      var mapa = this.$store.getters.getState.mapaLeaft;      \r\n      let layers = Object.keys(mapa._layers);\r\n      mapa.removeLayer(mapa._layers[layers[layers.length-1]])\r\n    },\r\n    deleteDropFilesAreaBurn(index) {\r\n      console.log(\"delete\");\r\n      this.filesAreaBurn.splice(index, 1);\r\n    },\r\n    deleteDropFileParcelas(index) {\r\n      this.filesParcelas.splice(index, 1);\r\n    },\r\n  },\r\n  mounted() {\r\n    console.log(\"crearProceSeveridad\");\r\n  },\r\n};\r\n</script>"],"sourceRoot":"src/components/ProcesosSeveridad"}]}