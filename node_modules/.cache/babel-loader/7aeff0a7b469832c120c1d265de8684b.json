{"remainingRequest":"D:\\@IGAC\\Work2020\\backUps\\backUpIncendios\\portal-de-incendios-comixta-argentina---visor\\node_modules\\babel-loader\\lib\\index.js!D:\\@IGAC\\Work2020\\backUps\\backUpIncendios\\portal-de-incendios-comixta-argentina---visor\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\@IGAC\\Work2020\\backUps\\backUpIncendios\\portal-de-incendios-comixta-argentina---visor\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\@IGAC\\Work2020\\backUps\\backUpIncendios\\portal-de-incendios-comixta-argentina---visor\\src\\components\\capas\\listadoCapas.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\@IGAC\\Work2020\\backUps\\backUpIncendios\\portal-de-incendios-comixta-argentina---visor\\src\\components\\capas\\listadoCapas.vue","mtime":1596228406603},{"path":"D:\\@IGAC\\Work2020\\backUps\\backUpIncendios\\portal-de-incendios-comixta-argentina---visor\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\@IGAC\\Work2020\\backUps\\backUpIncendios\\portal-de-incendios-comixta-argentina---visor\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\@IGAC\\Work2020\\backUps\\backUpIncendios\\portal-de-incendios-comixta-argentina---visor\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\@IGAC\\Work2020\\backUps\\backUpIncendios\\portal-de-incendios-comixta-argentina---visor\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IEwgZnJvbSAibGVhZmxldCI7CmltcG9ydCBjYXBhIGZyb20gIi4vY2FwYSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAibGlzdGFkb0NhcGFzIiwKICBjb21wb25lbnRzOiB7CiAgICBjYXBhOiBjYXBhCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbGF5ZXJzOiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldFN0YXRlLmxheWVycywKICAgICAgbWFwYUxlYWZ0OiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldFN0YXRlLm1hcGFMZWFmdCwKICAgICAgaWRMYXllclRvUmVtb3ZlOiBudWxsLAogICAgICBpc0xheWVyRHJhdzogZmFsc2UKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBjaGVja0xheWVyOiBmdW5jdGlvbiBjaGVja0xheWVyKGxheWVyTmFtZSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgLy90aGlzLiRzdG9yZS5jb21taXQoImNoZWNrTGF5ZXIiLGxheWVyTmFtZSk7CiAgICAgIHRoaXMubGF5ZXJzLmZvckVhY2goZnVuY3Rpb24gKGUsIGl0ZW0pIHsKICAgICAgICBpZiAoZS5sYXllck5hbWUgPT0gbGF5ZXJOYW1lKSB7CiAgICAgICAgICBfdGhpcy5pZExheWVyVG9SZW1vdmUgPSBlLmlkTWFwTGF5ZXI7CgogICAgICAgICAgaWYgKGUuaWRNYXBMYXllciAhPSBudWxsKSB7CiAgICAgICAgICAgIF90aGlzLmxheWVyc1tpdGVtXS5pZE1hcExheWVyID0gbnVsbDsgLy9yZXNldCBpZCBsYXllciBsb2FkZWQgICAgICAgICAgICAKCiAgICAgICAgICAgIF90aGlzLmlzTGF5ZXJEcmF3ID0gdHJ1ZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgICB0aGlzLmlzTGF5ZXJEcmF3ID8gdGhpcy5yZW1vdmVMYXllcih0aGlzLmlkTGF5ZXJUb1JlbW92ZSkgOiB0aGlzLmRyYXdMYXllcihsYXllck5hbWUpOwogICAgfSwKICAgIGRyYXdMYXllcjogZnVuY3Rpb24gZHJhd0xheWVyKGxheWVyTmFtZSkgewogICAgICBjb25zb2xlLmxvZyhsYXllck5hbWUpOwogICAgICB2YXIgdXJsTmFzYSA9ICJodHRwczovL2Zpcm1zLm1vZGFwcy5lb3NkaXMubmFzYS5nb3Yvd21zL2tleS8iLAogICAgICAgICAga2V5ID0gJ2U4ZjZkMTQ1NWE0YjJlZjMwY2FlZTU2YzhkNGM1NDM1JywKICAgICAgICAgIHVybFRvUXVlcnkgPSAnJzsKCiAgICAgIGlmIChsYXllck5hbWUgPT0gJ2ZpcmVzX3RlcnJhJyB8fCBsYXllck5hbWUgPT0gJ2ZpcmVzX3ZpaXJzJyB8fCBsYXllck5hbWUgPT0gJ2ZpcmVzX3ZpaXJzX3NucHAnIHx8IGxheWVyTmFtZSA9PSAnZmlyZXNfdmlpcnNfbm9hYTIwJyB8fCBsYXllck5hbWUgPT0gJ2ZpcmVzX2FxdWEnIHx8IGxheWVyTmFtZSA9PSAnZmlyZXNfbW9kaXMnKSB7CiAgICAgICAgdXJsVG9RdWVyeSA9IHVybE5hc2EgKyBrZXk7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJzZXRTdGF0ZSIsIHsKICAgICAgICAgICJmaWVsZCI6ICJwYW5lbFZpc2liaWxpdHkiLAogICAgICAgICAgImRhdGEiOiBmYWxzZQogICAgICAgIH0pOyAvL29jdWx0YSB0YWJsYSBkZSBjb250cmVuaWRvCgogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgic2V0U3RhdGUiLCB7CiAgICAgICAgICAiZmllbGQiOiAiaXNEYXRhUmFuZ2VDYXBhc0FjdGl2ZSIsCiAgICAgICAgICAiZGF0YSI6IHRydWUKICAgICAgICB9KTsgLy9tdWVzdHJhIG1vZGFsIGNvbiBlbCBkYXRhUmFuZ2UgcGFyYSBhanVzdGFyIGVsIFRpbWUgcGFyYSBsYSBjb25zdWx0YQoKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoInNldFN0YXRlIiwgewogICAgICAgICAgImZpZWxkIjogInVybFF1ZXJ5VG9OYXNhIiwKICAgICAgICAgICJkYXRhIjogdXJsVG9RdWVyeQogICAgICAgIH0pOwogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgic2V0U3RhdGUiLCB7CiAgICAgICAgICAiZmllbGQiOiAibmFtZUxheWVyU2VsZWN0ZWQiLAogICAgICAgICAgImRhdGEiOiBsYXllck5hbWUKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB1cmxUb1F1ZXJ5ID0gdXJsTmFzYSArIGtleSArICIvIjsKICAgICAgICB0aGlzLmV4ZWN1dGVRdWVyeSh7CiAgICAgICAgICAibGF5ZXJOYW1lIjogbGF5ZXJOYW1lLAogICAgICAgICAgInVybFRvUXVlcnkiOiB1cmxUb1F1ZXJ5CiAgICAgICAgfSk7CiAgICAgIH0gLy92YXIgdXJsRWplbXBsbzEgPSAiaHR0cHM6Ly97c30udGlsZS5vcGVuc3RyZWV0bWFwLm9yZy97en0ve3h9L3t5fS5wbmc/e2Zvb30iCgogICAgfSwKICAgIGV4ZWN1dGVRdWVyeTogZnVuY3Rpb24gZXhlY3V0ZVF1ZXJ5KGRhdGFPYmpldCkgewogICAgICBMLnRpbGVMYXllci53bXMoZGF0YU9iamV0LnVybFRvUXVlcnksIHsKICAgICAgICBsYXllcnM6IGRhdGFPYmpldC5sYXllck5hbWUsCiAgICAgICAgZm9ybWF0OiAiaW1hZ2UvcG5nIiwKICAgICAgICB0cmFuc3BhcmVudDogdHJ1ZQogICAgICB9KS5hZGRUbyh0aGlzLm1hcGFMZWFmdCk7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgiYWRkSWRUb0xheWVycyIsIHsKICAgICAgICAibGF5ZXJOYW1lIjogZGF0YU9iamV0LmxheWVyTmFtZQogICAgICB9KTsKICAgIH0sCiAgICByZW1vdmVMYXllcjogZnVuY3Rpb24gcmVtb3ZlTGF5ZXIoaWRMYXllclRvUmVtb3ZlKSB7CiAgICAgIHRoaXMubWFwYUxlYWZ0LnJlbW92ZUxheWVyKHRoaXMubWFwYUxlYWZ0Ll9sYXllcnNbaWRMYXllclRvUmVtb3ZlXSk7CiAgICAgIHRoaXMuaXNMYXllckRyYXcgPSBmYWxzZTsKICAgIH0sCiAgICBoaWRlSW5mb0xheWVyOiBmdW5jdGlvbiBoaWRlSW5mb0xheWVyKCkgewogICAgICB0aGlzLmxheWVycy5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZS5sYXllck5hbWUpLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICAgIH0pOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIGNvbnNvbGUubG9nKCJsaXN0YWRvQ2FwYXMiKTsKICAgIHRoaXMuaGlkZUluZm9MYXllcigpOwogIH0KfTs="},{"version":3,"sources":["listadoCapas.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;AAcA,OAAA,CAAA,MAAA,SAAA;AACA,OAAA,IAAA,MAAA,QAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,cADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,IAAA,EAAA;AADA,GAFA;AAKA,EAAA,IALA,kBAKA;AACA,WAAA;AACA,MAAA,MAAA,EAAA,KAAA,MAAA,CAAA,OAAA,CAAA,QAAA,CAAA,MADA;AAEA,MAAA,SAAA,EAAA,KAAA,MAAA,CAAA,OAAA,CAAA,QAAA,CAAA,SAFA;AAGA,MAAA,eAAA,EAAA,IAHA;AAIA,MAAA,WAAA,EAAA;AAJA,KAAA;AAMA,GAZA;AAaA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,sBACA,SADA,EACA;AAAA;;AACA;AACA,WAAA,MAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA,IAAA,EAAA;AACA,YAAA,CAAA,CAAA,SAAA,IAAA,SAAA,EAAA;AACA,UAAA,KAAA,CAAA,eAAA,GAAA,CAAA,CAAA,UAAA;;AACA,cAAA,CAAA,CAAA,UAAA,IAAA,IAAA,EAAA;AACA,YAAA,KAAA,CAAA,MAAA,CAAA,IAAA,EAAA,UAAA,GAAA,IAAA,CADA,CACA;;AACA,YAAA,KAAA,CAAA,WAAA,GAAA,IAAA;AACA;AACA;AACA,OARA;AASA,WAAA,WAAA,GACA,KAAA,WAAA,CAAA,KAAA,eAAA,CADA,GAEA,KAAA,SAAA,CAAA,SAAA,CAFA;AAGA,KAfA;AAgBA,IAAA,SAhBA,qBAgBA,SAhBA,EAgBA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,SAAA;AACA,UAAA,OAAA,GAAA,+CAAA;AAAA,UAAA,GAAA,GAAA,kCAAA;AAAA,UAAA,UAAA,GAAA,EAAA;;AAEA,UAAA,SAAA,IAAA,aAAA,IAAA,SAAA,IAAA,aAAA,IAAA,SAAA,IAAA,kBAAA,IAAA,SAAA,IAAA,oBAAA,IAAA,SAAA,IAAA,YAAA,IAAA,SAAA,IAAA,aAAA,EAAA;AACA,QAAA,UAAA,GAAA,OAAA,GAAA,GAAA;AACA,aAAA,MAAA,CAAA,MAAA,CAAA,UAAA,EAAA;AAAA,mBAAA,iBAAA;AAAA,kBAAA;AAAA,SAAA,EAFA,CAEA;;AACA,aAAA,MAAA,CAAA,MAAA,CAAA,UAAA,EAAA;AAAA,mBAAA,wBAAA;AAAA,kBAAA;AAAA,SAAA,EAHA,CAGA;;AACA,aAAA,MAAA,CAAA,MAAA,CAAA,UAAA,EAAA;AAAA,mBAAA,gBAAA;AAAA,kBAAA;AAAA,SAAA;AACA,aAAA,MAAA,CAAA,MAAA,CAAA,UAAA,EAAA;AAAA,mBAAA,mBAAA;AAAA,kBAAA;AAAA,SAAA;AACA,OANA,MAMA;AACA,QAAA,UAAA,GAAA,OAAA,GAAA,GAAA,GAAA,GAAA;AACA,aAAA,YAAA,CAAA;AAAA,uBAAA,SAAA;AAAA,wBAAA;AAAA,SAAA;AACA,OAbA,CAcA;;AAEA,KAhCA;AAiCA,IAAA,YAjCA,wBAiCA,SAjCA,EAiCA;AACA,MAAA,CAAA,CAAA,SAAA,CACA,GADA,CACA,SAAA,CAAA,UADA,EACA;AACA,QAAA,MAAA,EAAA,SAAA,CAAA,SADA;AAEA,QAAA,MAAA,EAAA,WAFA;AAGA,QAAA,WAAA,EAAA;AAHA,OADA,EAMA,KANA,CAMA,KAAA,SANA;AAQA,WAAA,MAAA,CAAA,MAAA,CAAA,eAAA,EAAA;AAAA,qBAAA,SAAA,CAAA;AAAA,OAAA;AACA,KA3CA;AA4CA,IAAA,WA5CA,uBA4CA,eA5CA,EA4CA;AACA,WAAA,SAAA,CAAA,WAAA,CACA,KAAA,SAAA,CAAA,OAAA,CAAA,eAAA,CADA;AAGA,WAAA,WAAA,GAAA,KAAA;AACA,KAjDA;AAkDA,IAAA,aAlDA,2BAkDA;AACA,WAAA,MAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,QAAA,QAAA,CAAA,cAAA,CAAA,CAAA,CAAA,SAAA,EAAA,KAAA,CAAA,OAAA,GAAA,MAAA;AACA,OAFA;AAGA;AAtDA,GAbA;AAqEA,EAAA,OArEA,qBAqEA;AACA,IAAA,OAAA,CAAA,GAAA,CAAA,cAAA;AACA,SAAA,aAAA;AACA;AAxEA,CAAA","sourcesContent":["<template>\r\n<div>\r\n  <ul>\r\n     <div>\r\n      <h1 class=\"titleProducto\">LISTADO DE CAPAS</h1>      \r\n    </div>\r\n    <li class=\"layer\" v-for=\"(i,index) in layers\" :key=\"index\">\r\n        <capa v-bind:layer=\"i\" v-on:layerSelected=\"checkLayer(i.layerName)\"/>        \r\n    </li>     \r\n  </ul>\r\n      \r\n  </div>\r\n</template>\r\n<script>\r\nimport L from \"leaflet\";\r\nimport capa from \"./capa\"\r\n \r\nexport default {\r\n  name: \"listadoCapas\",\r\n  components:{\r\n      capa,      \r\n  },\r\n  data() {\r\n    return {\r\n      layers: this.$store.getters.getState.layers,    \r\n      mapaLeaft: this.$store.getters.getState.mapaLeaft,  \r\n      idLayerToRemove: null,\r\n      isLayerDraw: false,\r\n    };\r\n  },\r\n  methods: {\r\n    checkLayer(layerName){\r\n      //this.$store.commit(\"checkLayer\",layerName);\r\n      this.layers.forEach((e, item) => {\r\n        if (e.layerName == layerName) {\r\n          this.idLayerToRemove = e.idMapLayer;\r\n          if (e.idMapLayer != null) {\r\n            this.layers[item].idMapLayer = null; //reset id layer loaded            \r\n            this.isLayerDraw = true;\r\n          }\r\n        }\r\n      });\r\n      this.isLayerDraw\r\n        ? this.removeLayer(this.idLayerToRemove)\r\n        : this.drawLayer(layerName);  \r\n    },    \r\n    drawLayer(layerName) {\r\n      console.log(layerName);\r\n      var urlNasa = \"https://firms.modaps.eosdis.nasa.gov/wms/key/\", key='e8f6d1455a4b2ef30caee56c8d4c5435', urlToQuery='';\r\n      \r\n      if(layerName == 'fires_terra' || layerName == 'fires_viirs' || layerName == 'fires_viirs_snpp' || layerName == 'fires_viirs_noaa20' || layerName == 'fires_aqua' || layerName == 'fires_modis'){                \r\n         urlToQuery = urlNasa+key;\r\n         this.$store.commit(\"setState\", {\"field\":\"panelVisibility\", \"data\":false});//oculta tabla de contrenido\r\n         this.$store.commit(\"setState\", {\"field\":\"isDataRangeCapasActive\", \"data\":true});//muestra modal con el dataRange para ajustar el Time para la consulta\r\n         this.$store.commit(\"setState\", {\"field\":\"urlQueryToNasa\", \"data\":urlToQuery});   \r\n         this.$store.commit(\"setState\", {\"field\":\"nameLayerSelected\", \"data\":layerName}); \r\n      }else{        \r\n        urlToQuery = urlNasa+key+\"/\"\r\n        this.executeQuery({\"layerName\":layerName, \"urlToQuery\":urlToQuery});\r\n      }\r\n      //var urlEjemplo1 = \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png?{foo}\"\r\n            \r\n    },\r\n    executeQuery(dataObjet){\r\n      L.tileLayer\r\n        .wms(dataObjet.urlToQuery, {\r\n          layers: dataObjet.layerName,\r\n          format: \"image/png\",\r\n          transparent: true\r\n        })\r\n        .addTo(this.mapaLeaft);\r\n        \r\n      this.$store.commit(\"addIdToLayers\",{\"layerName\":dataObjet.layerName});      \r\n    },\r\n    removeLayer(idLayerToRemove) {\r\n      this.mapaLeaft.removeLayer(\r\n        this.mapaLeaft._layers[idLayerToRemove]\r\n      );\r\n      this.isLayerDraw = false;\r\n    },\r\n    hideInfoLayer() {\r\n      this.layers.forEach(e => {\r\n        document.getElementById(e.layerName).style.display = \"none\";\r\n      });\r\n    }\r\n  },\r\n  mounted() {\r\n    console.log(\"listadoCapas\");\r\n    this.hideInfoLayer();\r\n  }\r\n};\r\n</script>\r\n\r\n"],"sourceRoot":"src/components/capas"}]}